{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@shebaoting/rss/webpack/bootstrap","webpack://@shebaoting/rss/webpack/runtime/compat get default export","webpack://@shebaoting/rss/webpack/runtime/define property getters","webpack://@shebaoting/rss/webpack/runtime/hasOwnProperty shorthand","webpack://@shebaoting/rss/external root \"flarum.core.compat['common/app']\"","webpack://@shebaoting/rss/./src/common/index.ts","webpack://@shebaoting/rss/external root \"flarum.core.compat['forum/app']\"","webpack://@shebaoting/rss/external root \"flarum.core.compat['common/extend']\"","webpack://@shebaoting/rss/external root \"flarum.core.compat['forum/components/IndexPage']\"","webpack://@shebaoting/rss/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@shebaoting/rss/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@shebaoting/rss/external root \"flarum.core.compat['common/components/Page']\"","webpack://@shebaoting/rss/external root \"flarum.core.compat['common/helpers/listItems']\"","webpack://@shebaoting/rss/external root \"flarum.core.compat['common/Component']\"","webpack://@shebaoting/rss/./src/forum/components/RssFeedList.js","webpack://@shebaoting/rss/external root \"flarum.core.compat['common/components/Button']\"","webpack://@shebaoting/rss/external root \"flarum.core.compat['common/components/Modal']\"","webpack://@shebaoting/rss/./src/forum/components/RssSubmitModal.js","webpack://@shebaoting/rss/./src/forum/components/RssToolbar.js","webpack://@shebaoting/rss/./src/forum/components/RssFeedPage.js","webpack://@shebaoting/rss/./src/forum/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/app'];","import app from 'flarum/common/app';\n\napp.initializers.add('shebaoting/rss', () => {\n  console.log('[shebaoting/rss] Hello, forum and admin!');\n});\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/IndexPage'];","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Page'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/listItems'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Component'];","import Component from 'flarum/common/Component';\n\nexport default class RssFeedList extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n    this.feeds = [];\n    this.loadFeeds();\n  }\n\n  loadFeeds() {\n    app\n      .request({\n        method: 'GET',\n        url: app.forum.attribute('apiUrl') + '/rss-items',\n      })\n      .then((feeds) => {\n        this.feeds = feeds.data;\n        m.redraw();\n      });\n  }\n\n  view() {\n    return (\n      <div className=\"RssFeedList\">\n        <div className=\"DiscussionList\">\n          <ul class=\"DiscussionList-discussions\">\n            {this.feeds.map((feed) => (\n              <li>\n                <div class=\"DiscussionListItem\">\n                  <div className=\"DiscussionListItem-content Slidable-content read\">\n                    <a href={feed.attributes.link} target=\"_blank\" className=\"DiscussionListItem-main\">\n                      <h2 class=\"DiscussionListItem-title\">{feed.attributes.title}</h2>\n                      <ul class=\"DiscussionListItem-info\">\n                        <li class=\"item-tags\">\n                          <span class=\"TagsLabel\">\n                            <span class=\"TagLabel colored text-contrast--light TagLabel--child\" style=\"--tag-bg: #6b7eb7;\">\n                              <span class=\"TagLabel-text\">\n                                <i class=\"TagLabel-icon icon fas iconfont icon-php\"></i>\n                                <span class=\"TagLabel-name\">{feed.attributes.site_name}</span>\n                              </span>\n                            </span>\n                          </span>\n                        </li>\n\n                        <li class=\"item-terminalPost\">\n                          <span>\n                            发布于 <time>{feed.attributes.published_at}</time>\n                          </span>\n                        </li>\n                      </ul>\n                    </a>\n                  </div>\n                </div>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Modal'];","import Modal from 'flarum/common/components/Modal';\nimport Button from 'flarum/common/components/Button';\nimport app from 'flarum/forum/app';\n\nexport default class RssSubmitModal extends Modal {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.url = ''; // 使用 url 代替 link\n    this.siteTitle = ''; // 使用 siteTitle 代替 title\n    this.feedId = null; // 用于记录当前 Feed 的 ID\n    this.loading = true; // 标记加载状态\n\n    console.log('[RssSubmitModal] Modal initialized, starting to load existing feed.');\n\n    // 加载当前用户的 RSS Feed 信息\n    this.loadExistingFeed();\n  }\n\n  loadExistingFeed() {\n    console.log('[RssSubmitModal] Sending request to load current user feed.');\n\n    app\n      .request({\n        method: 'GET',\n        url: app.forum.attribute('apiUrl') + '/user-rss-feeds', // 请求新的 API 端点\n      })\n      .then((response) => {\n        if (response.data.length > 0) {\n          const userFeed = response.data[0]; // 使用当前用户的第一个 RSS Feed\n          this.feedId = userFeed.id;\n          this.url = userFeed.attributes.url;\n          this.siteTitle = userFeed.attributes.title;\n          console.log('[RssSubmitModal] Found user feed:', userFeed);\n        } else {\n          console.log('[RssSubmitModal] No existing feed found for the user.');\n        }\n\n        this.loading = false; // 加载完成\n        m.redraw(); // 强制 Mithril 重新渲染组件\n      })\n      .catch((error) => {\n        console.error('[RssSubmitModal] Error loading existing feed:', error);\n        this.loading = false;\n        m.redraw();\n      });\n  }\n\n  className() {\n    return 'RssSubmitModal Modal--small';\n  }\n\n  title() {\n    return '提交 RSS 站点';\n  }\n\n  content() {\n    // 如果数据仍在加载中，显示加载状态\n    if (this.loading) {\n      console.log('[RssSubmitModal] Loading feed data, showing loading state.');\n      return (\n        <div className=\"Modal-body\">\n          <p>加载中...</p>\n        </div>\n      );\n    }\n\n    console.log('[RssSubmitModal] Feed data loaded, rendering form with URL:', this.url, 'and siteTitle:', this.siteTitle);\n\n    // 数据加载完成后显示表单\n    return (\n      <div className=\"Modal-body\">\n        <div className=\"Form-group\">\n          <label>站点名称</label>\n          <input\n            className=\"FormControl\"\n            placeholder=\"请输入站点名称\"\n            value={this.siteTitle}\n            oninput={(e) => {\n              this.siteTitle = e.target.value; // 捕获站点名称\n              console.log('[RssSubmitModal] Updated siteTitle:', this.siteTitle);\n            }}\n          />\n        </div>\n        <div className=\"Form-group\">\n          <label>RSS 链接</label>\n          <input\n            className=\"FormControl\"\n            placeholder=\"请输入 RSS 链接\"\n            value={this.url} // 使用 url 代替 link\n            oninput={(e) => {\n              this.url = e.target.value; // 捕获 RSS 链接\n              console.log('[RssSubmitModal] Updated URL:', this.url);\n            }}\n          />\n        </div>\n        <div className=\"Form-group\">\n          <Button className=\"Button Button--primary\" onclick={this.onsubmit.bind(this)} loading={this.loading}>\n            提交\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  // 提交表单\n  onsubmit(e) {\n    e.preventDefault();\n    this.loading = true;\n    console.log('[RssSubmitModal] Submitting form with URL:', this.url, 'and siteTitle:', this.siteTitle);\n\n    const method = this.feedId ? 'PATCH' : 'POST'; // 如果有 feedId，则更新，否则创建\n    const apiUrl = this.feedId ? app.forum.attribute('apiUrl') + `/rss-feeds/${this.feedId}` : app.forum.attribute('apiUrl') + '/rss-feeds';\n\n    console.log('[RssSubmitModal] API method:', method, 'API URL:', apiUrl);\n\n    app\n      .request({\n        method: method,\n        url: apiUrl,\n        body: {\n          data: {\n            attributes: {\n              url: this.url, // 提交 URL\n              title: this.siteTitle,\n            },\n          },\n        },\n      })\n      .then(() => {\n        this.loading = false;\n        console.log('[RssSubmitModal] Form submitted successfully.');\n        app.alerts.show({ type: 'success' }, 'RSS 站点已成功提交！');\n        this.hide();\n        m.redraw();\n      })\n      .catch((error) => {\n        this.loading = false;\n        console.error('[RssSubmitModal] Error submitting form:', error);\n        app.alerts.show({ type: 'error' }, '提交失败，请重试。');\n        m.redraw();\n      });\n  }\n}\n","import Component from 'flarum/common/Component';\nimport Button from 'flarum/common/components/Button';\nimport app from 'flarum/forum/app';\nimport RssSubmitModal from './RssSubmitModal'; // 引入自定义 Modal\n\nexport default class RssToolbar extends Component {\n  view() {\n    return (\n      <div className=\"IndexPage-toolbar rss-subsec\">\n        <ul className=\"IndexPage-toolbar-action\">\n          <li className=\"item-markAllAsRead\">\n            <Button\n              className=\"Button hasIcon\"\n              onclick={() => app.modal.show(RssSubmitModal)} // 点击按钮时显示 Modal\n            >\n              提交站点\n            </Button>\n          </li>\n        </ul>\n      </div>\n    );\n  }\n}\n","import app from 'flarum/forum/app';\nimport Page from 'flarum/common/components/Page';\nimport listItems from 'flarum/common/helpers/listItems';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport RssFeedList from './RssFeedList';\nimport RssToolbar from './RssToolbar';\nexport default class RssFeedPage extends Page {\n  oninit(vnode) {\n    super.oninit(vnode);\n    app.setTitle('RSS Aggregator'); // 设置页面标题\n  }\n\n  view() {\n    return (\n      <div className=\"IndexPage\">\n        {IndexPage.prototype.hero()} {/* 复用 IndexPage 的头部样式 */}\n        <div className=\"container\">\n          <div className=\"sideNavContainer\">\n            <nav className=\"IndexPage-nav sideNav\">\n              <ul>{listItems(IndexPage.prototype.sidebarItems().toArray())}</ul> {/* 保留侧边栏 */}\n            </nav>\n            <div className=\"RssFeedListContent IndexPage-results sideNavOffset\">\n              <RssToolbar />\n              <RssFeedList /> {/* 显示 RSS 列表 */}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import app from 'flarum/forum/app';\nimport { extend } from 'flarum/common/extend';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport RssFeedPage from './components/RssFeedPage';\n\napp.initializers.add('shebaoting/rss', () => {\n  // 添加 RSS 导航链接\n  extend(IndexPage.prototype, 'navItems', (items) => {\n    items.add(\n      'rss',\n      m(\n        'a',\n        {\n          href: app.route('rss.feed'), // 使用 Flarum 的路由系统\n          onclick: (e) => {\n            e.preventDefault(); // 阻止默认行为\n            m.route.set(app.route('rss.feed')); // 使用 Mithril 跳转到 RSS 页面\n          },\n          className: 'hasIcon', // 为链接添加类名\n        },\n        [\n          // 图标部分\n          m('i', { className: 'icon fas fa-rss Button-icon', 'aria-hidden': 'true' }),\n          // 文本部分\n          m('span', { className: 'Button-label' }, '独立博客'),\n        ]\n      ),\n      -10\n    );\n  });\n\n  // 注册路由\n  app.routes['rss.feed'] = {\n    path: '/rss',\n    component: RssFeedPage, // 使用 RSS 页面组件\n  };\n\n  console.log('[shebaoting/rss] RSS Aggregator link added to the navbar!');\n});\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","flarum","core","compat","app","add","console","log","_setPrototypeOf","t","e","setPrototypeOf","bind","__proto__","_inheritsLoose","create","constructor","RssFeedList","_Component","apply","arguments","_proto","oninit","vnode","this","feeds","loadFeeds","_this","request","method","url","forum","attribute","then","data","m","redraw","view","className","class","map","feed","href","attributes","link","target","title","style","site_name","published_at","Component","RssSubmitModal","_Modal","siteTitle","feedId","loading","loadExistingFeed","response","length","userFeed","id","error","content","_this2","placeholder","value","oninput","Button","onclick","onsubmit","_this3","preventDefault","apiUrl","body","show","type","hide","Modal","RssToolbar","RssFeedPage","_Page","IndexPage","hero","listItems","sidebarItems","toArray","Page","extend","items","route","set","path","component"],"sourceRoot":""}