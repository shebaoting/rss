{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@shebaoting/rss/./src/common/index.ts","webpack://@shebaoting/rss/./src/forum/components/RssFeedList.js","webpack://@shebaoting/rss/./src/forum/components/RssFeedPage.js","webpack://@shebaoting/rss/./src/forum/index.js","webpack://@shebaoting/rss/external root \"flarum.core.compat['common/Component']\"","webpack://@shebaoting/rss/external root \"flarum.core.compat['common/app']\"","webpack://@shebaoting/rss/external root \"flarum.core.compat['common/components/Page']\"","webpack://@shebaoting/rss/external root \"flarum.core.compat['common/extend']\"","webpack://@shebaoting/rss/external root \"flarum.core.compat['common/helpers/listItems']\"","webpack://@shebaoting/rss/external root \"flarum.core.compat['forum/app']\"","webpack://@shebaoting/rss/external root \"flarum.core.compat['forum/components/IndexPage']\"","webpack://@shebaoting/rss/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@shebaoting/rss/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@shebaoting/rss/webpack/bootstrap","webpack://@shebaoting/rss/webpack/runtime/compat get default export","webpack://@shebaoting/rss/webpack/runtime/define property getters","webpack://@shebaoting/rss/webpack/runtime/hasOwnProperty shorthand","webpack://@shebaoting/rss/webpack/runtime/make namespace object","webpack://@shebaoting/rss/./forum.ts"],"sourcesContent":["import app from 'flarum/common/app';\n\napp.initializers.add('shebaoting/rss', () => {\n  console.log('[shebaoting/rss] Hello, forum and admin!');\n});\n","import Component from 'flarum/common/Component';\n\nexport default class RssFeedList extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n    this.feeds = [];\n    this.loadFeeds();\n  }\n\n  loadFeeds() {\n    app\n      .request({\n        method: 'GET',\n        url: app.forum.attribute('apiUrl') + '/rss-items',\n      })\n      .then((feeds) => {\n        this.feeds = feeds.data;\n        m.redraw();\n      });\n  }\n\n  view() {\n    return (\n      <div className=\"RssFeedList\">\n        <div className=\"DiscussionList\">\n          <ul class=\"DiscussionList-discussions\">\n            {this.feeds.map((feed) => (\n              <li>\n                <div class=\"DiscussionListItem\">\n                  <div className=\"DiscussionListItem-content Slidable-content read\">\n                    <a href={feed.attributes.link} target=\"_blank\" className=\"DiscussionListItem-main\">\n                      <h2 class=\"DiscussionListItem-title\">{feed.attributes.title}</h2>\n                      <ul class=\"DiscussionListItem-info\">\n                        <li class=\"item-tags\">\n                          <span class=\"TagsLabel\">\n                            <span class=\"TagLabel colored text-contrast--light TagLabel--child\" style=\"--tag-bg: #6b7eb7;\">\n                              <span class=\"TagLabel-text\">\n                                <i class=\"TagLabel-icon icon fas iconfont icon-php\"></i>\n                                <span class=\"TagLabel-name\">{feed.attributes.site_name}</span>\n                              </span>\n                            </span>\n                          </span>\n                        </li>\n\n                        <li class=\"item-terminalPost\">\n                          <span>\n                            发布于 <time>{feed.attributes.published_at}</time>\n                          </span>\n                        </li>\n                      </ul>\n                    </a>\n                  </div>\n                </div>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n","import app from 'flarum/forum/app';\nimport Page from 'flarum/common/components/Page';\nimport listItems from 'flarum/common/helpers/listItems';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport RssFeedList from './RssFeedList';\n\nexport default class RssFeedPage extends Page {\n  oninit(vnode) {\n    super.oninit(vnode);\n    app.setTitle('RSS Aggregator'); // 设置页面标题\n  }\n\n  view() {\n    return (\n      <div className=\"IndexPage\">\n        {IndexPage.prototype.hero()} {/* 复用 IndexPage 的头部样式 */}\n        <div className=\"container\">\n          <div className=\"sideNavContainer\">\n            <nav className=\"IndexPage-nav sideNav\">\n              <ul>{listItems(IndexPage.prototype.sidebarItems().toArray())}</ul> {/* 保留侧边栏 */}\n            </nav>\n            <div className=\"RssFeedListContent IndexPage-results sideNavOffset\">\n              <RssFeedList /> {/* 显示 RSS 列表 */}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import app from 'flarum/forum/app';\nimport { extend } from 'flarum/common/extend';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport RssFeedPage from './components/RssFeedPage';\n\napp.initializers.add('shebaoting/rss', () => {\n  // 添加 RSS 导航链接\n  extend(IndexPage.prototype, 'navItems', (items) => {\n    items.add(\n      'rss',\n      m(\n        'a',\n        {\n          href: app.route('rss.feed'), // 使用 Flarum 的路由系统\n          onclick: (e) => {\n            e.preventDefault(); // 阻止默认行为\n            m.route.set(app.route('rss.feed')); // 使用 Mithril 跳转到 RSS 页面\n          },\n          className: 'hasIcon', // 为链接添加类名\n        },\n        [\n          // 图标部分\n          m('i', { className: 'icon fas fa-rss Button-icon', 'aria-hidden': 'true' }),\n          // 文本部分\n          m('span', { className: 'Button-label' }, '独立博客'),\n        ]\n      ),\n      -10\n    );\n  });\n\n  // 注册路由\n  app.routes['rss.feed'] = {\n    path: '/rss',\n    component: RssFeedPage, // 使用 RSS 页面组件\n  };\n\n  console.log('[shebaoting/rss] RSS Aggregator link added to the navbar!');\n});\n","module.exports = flarum.core.compat['common/Component'];","module.exports = flarum.core.compat['common/app'];","module.exports = flarum.core.compat['common/components/Page'];","module.exports = flarum.core.compat['common/extend'];","module.exports = flarum.core.compat['common/helpers/listItems'];","module.exports = flarum.core.compat['forum/app'];","module.exports = flarum.core.compat['forum/components/IndexPage'];","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export * from './src/common';\nexport * from './src/forum';\n"],"names":["app","initializers","add","console","log","Component","RssFeedList","_Component","apply","arguments","_inheritsLoose","_proto","prototype","oninit","vnode","call","feeds","loadFeeds","_this","request","method","url","forum","attribute","then","data","m","redraw","view","className","map","feed","href","attributes","link","target","title","style","site_name","published_at","default","Page","listItems","IndexPage","RssFeedPage","_Page","setTitle","hero","sidebarItems","toArray","extend","items","route","onclick","e","preventDefault","set","routes","path","component","setPrototypeOf","t","o","Object","create","constructor","_setPrototypeOf","bind","__proto__"],"sourceRoot":""}